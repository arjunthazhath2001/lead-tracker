{
  "info": {
    "_postman_id": "0fc2664d-94bf-40b3-a023-9c57637e91fe",
    "name": "Business Lead tracker API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "43829775",
    "_collection_link": "https://go.postman.co/collection/43829775-0fc2664d-94bf-40b3-a023-9c57637e91fe?source=collection_link"
  },
  "item": [
    {
      "name": "01 – Happy Paths",
      "item": [
        {
          "name": "Create Lead – Valid Input",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"ABC Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@abc.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Leads",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Status = NEW",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=NEW",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "NEW"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead → DEAL",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ],
      "description": "## **01 – Happy Paths**\n\n**Purpose**  \n  \nThis folder contains all requests that represent valid, expected usage of the Business Lead Tracker API.\n\n**What this folder proves**\n\n- The API works correctly when given valid inputs\n    \n- Core business flows behave as intended\n    \n- State transitions succeed without errors\n    \n\n**What to expect**\n\n- Successful lead creation\n    \n- Successful lead retrieval\n    \n- Valid status updates (for example, NEW → DEAL)\n    \n- Correct response payloads and HTTP 2xx status codes\n    \n\n**Audience**\n\n- Reviewers who want to quickly verify the API works\n    \n- New contributors exploring normal API behavior\n    \n- Manual smoke testing"
    },
    {
      "name": "02 – Validation & Client Errors",
      "item": [
        {
          "name": "Create Lead – Missing companyName",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Empty contactName",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Invalid email format",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"not-an-email\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Invalid source enum",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"FACEBOOK\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Extra unexpected field",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\",\r\n  \"isAdmin\": true\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Missing status",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Invalid status enum",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"CLOSED\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Status as number",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": 123\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Extra fields in payload",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\",\r\n  \"email\": \"hacker@evil.com\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Non-numeric ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/abc",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "abc"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Negative ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/-1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "-1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – SQL injection in ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/1;DROP TABLE leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "1;DROP TABLE leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Invalid status query",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=INVALID",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "INVALID"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Status array attack",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status[]=NEW",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status[]",
                  "value": "NEW"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Empty status query",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ],
      "description": "## **02 – Validation & Client Errors**\n\n**Purpose**  \n  \nThis folder tests how the API handles invalid input sent by clients.\n\n**What this folder proves**\n\n- Request validation is enforced at the API boundary\n    \n- Bad client input is rejected early\n    \n- Errors are returned with clear, meaningful messages\n    \n- The API does not allow malformed data to reach business logic or the database\n    \n\n**What is covered**\n\n- Missing required fields\n    \n- Invalid data formats (email, enums, types)\n    \n- Invalid query parameters\n    \n- Extra or unexpected fields in request payloads\n    \n\n**Expected behavior**\n\n- HTTP 400 responses\n    \n- Structured validation error messages\n    \n- No side effects (no DB writes, no notifications)"
    },
    {
      "name": "03 – Resource & Domain Errors",
      "item": [
        {
          "name": "Update Lead – Non-existent ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/9999",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "9999"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Duplicate email",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp Duplicate\",\r\n  \"contactName\": \"Jane Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – DEAL already closed (idempotent)",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"CALL_DONE\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ],
      "description": "## **03 – Resource & Domain Errors**\n\n**Purpose**  \n  \nThis folder tests failures related to application state, domain rules, and resource existence.\n\n**What this folder proves**\n\n- Domain constraints are enforced correctly\n    \n- The API responds appropriately to real-world business edge cases\n    \n- Errors caused by data state (not malformed input) are handled explicitly\n    \n\n**What is covered**\n\n- Non-existent resource access (for example, updating a missing lead)\n    \n- Duplicate resource creation (unique email constraint)\n    \n- Idempotent operations (for example, updating a lead already in DEAL state)\n    \n- Domain-level conflicts and assumptions\n    \n\n**Expected behavior**\n\n- HTTP 404, 409, or meaningful domain-specific responses\n    \n- Clear differentiation between client mistakes and domain violations\n    \n- No silent failures or misleading success responses"
    },
    {
      "name": "04 – System Guarantees",
      "item": [
        {
          "name": "Create Lead – Slack failure, lead still created",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Slack Down Corp\",\r\n  \"contactName\": \"Jane Doe\",\r\n  \"email\": \"slackdown@corp.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead → NEW Copy",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"NEW\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ],
      "description": "## **04 – System Guarantees**\n\n**Purpose**  \n  \nThis folder validates system-level guarantees and resilience under partial failures.\n\n**What this folder proves**\n\n- The system behaves predictably when external dependencies fail\n    \n- Core data integrity is preserved even if side effects fail\n    \n- Failed side effects can be retried safely\n    \n\n**What is covered**\n\n- Slack notification failures (misconfigured or unavailable webhook)\n    \n- Retry behavior after external system recovery\n    \n- Separation of business state from notification delivery\n    \n- Idempotent retry logic for failed notifications\n    \n\n**Expected behavior**\n\n- Primary business operations succeed even if external services fail\n    \n- Side-effect failures are tracked explicitly (FAILED / SENT)\n    \n- Retrying the same request after recovery triggers the pending side effect correctly"
    }
  ]
}