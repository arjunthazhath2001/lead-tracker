{
  "info": {
    "_postman_id": "0fc2664d-94bf-40b3-a023-9c57637e91fe",
    "name": "Business Lead tracker API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "43829775",
    "_collection_link": "https://go.postman.co/collection/43829775-0fc2664d-94bf-40b3-a023-9c57637e91fe?source=collection_link"
  },
  "item": [
    {
      "name": "01 – Happy Paths",
      "item": [
        {
          "name": "Create Lead – Valid Input",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"ABC Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@abc.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Leads",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Status = NEW",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=NEW",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "NEW"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead → DEAL",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "02 – Validation & Client Errors",
      "item": [
        {
          "name": "Create Lead – Missing companyName",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Empty contactName",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Invalid email format",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"not-an-email\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Invalid source enum",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"FACEBOOK\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Extra unexpected field",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp\",\r\n  \"contactName\": \"John Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\",\r\n  \"isAdmin\": true\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Missing status",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Invalid status enum",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"CLOSED\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Status as number",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": 123\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Extra fields in payload",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\",\r\n  \"email\": \"hacker@evil.com\"\r\n}\r\n"
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Non-numeric ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/abc",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "abc"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – Negative ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/-1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "-1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – SQL injection in ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/1;DROP TABLE leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "1;DROP TABLE leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Invalid status query",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=INVALID",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "INVALID"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Status array attack",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status[]=NEW",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status[]",
                  "value": "NEW"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Leads – Empty status query",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3001/leads?status=",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ],
              "query": [
                {
                  "key": "status",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "03 – Resource & Domain Errors",
      "item": [
        {
          "name": "Update Lead – Non-existent ID",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"DEAL\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/9999",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "9999"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Lead – Duplicate email",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Acme Corp Duplicate\",\r\n  \"contactName\": \"Jane Doe\",\r\n  \"email\": \"john@acme.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead – DEAL already closed (idempotent)",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"CALL_DONE\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "04 – System Guarantees",
      "item": [
        {
          "name": "Create Lead – Slack failure, lead still created",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"companyName\": \"Slack Down Corp\",\r\n  \"contactName\": \"Jane Doe\",\r\n  \"email\": \"slackdown@corp.com\",\r\n  \"source\": \"LINKEDIN\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Lead → NEW Copy",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"status\": \"NEW\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3001/leads/2",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3001",
              "path": [
                "leads",
                "2"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}